<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pertemuan 9: Dilatasi & Shear</title>
  <link rel="stylesheet" href="/style.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" />
  <style>
    canvas {
      border: 1px solid #ccc;
      margin-top: 10px;
      max-width: 100%;
    }
    label, input {
      margin: 5px;
    }
    .matrix-display {
      background: #f9f9f9;
      border: 1px solid #ccc;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <button class="sidebar-menu-button">
    <span class="material-symbols-rounded">menu</span>
  </button>

  <aside class="sidebar">
    <header class="sidebar-header">
      <a href="#" class="header-logo">
        <video autoplay loop muted playsinline class="logo-video-square">
          <source src="/assets/src/logo.mp4" type="video/mp4">
        </video>
        <video autoplay loop muted playsinline class="logo-video-landscape">
          <source src="/assets/src/logo2.mp4" type="video/mp4">
        </video>
      </a>
      <button class="sidebar-toggler">
        <span class="material-symbols-rounded">chevron_left</span>
      </button>
    </header>
    <div class="page-header">
      <span class="user-name">Maulana Dwi Prasetya | 241011400102</span>
    </div>
    <nav class="sidebar-nav">
      <ul class="nav-list primary-nav">
        <li class="nav-item">
          <a href="/index.html" class="nav-link">
            <span class="material-symbols-rounded">dashboard</span>
            <span class="nav-label">Dashboard</span>
          </a>
          <ul class="dropdown-menu">
            <li class="nav-item"><a class="nav-link dropdown-title">Dashboard</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown-container" id="auto-tugas-dropdown"></li>
      </ul>
    </nav>
  </aside>

  <div class="container">
    <h1>Pertemuan 9: Dilatasi & Shear</h1>

    <div class="card">
      <h2>Pengertian Dilatasi</h2>
      <p>Dilatasi adalah transformasi yang mengubah ukuran objek dengan faktor skala tertentu terhadap sumbu X dan Y. Transformasi ini dapat direpresentasikan dengan matriks transformasi.</p>
    </div>
    <div class="card">
  <h2>Rumus & Penjelasan Dilatasi</h2>
  <p>
    <b>Dilatasi</b> adalah transformasi yang mengubah ukuran objek (memperbesar atau memperkecil) terhadap sumbu X dan/atau Y dengan faktor skala tertentu.
  </p>
  <ul>
    <li>
      <b>Rumus dilatasi terhadap sumbu X dan Y:</b>
      <pre><code>
x' = sx · x
y' = sy · y
      </code></pre>
      <span>
        sx = skala sumbu X, sy = skala sumbu Y.  
        (sx &gt; 1: membesar, sx &lt; 1: mengecil; berlaku sama untuk sy)
      </span>
    </li>
    <li>
      <b>Bentuk matriks:</b>
      <pre><code>
| x' |   | sx  0  0 |   | x |
| y' | = | 0  sy  0 | · | y |
| 1  |   | 0   0  1 |   | 1 |
      </code></pre>
    </li>
    <li>
      <b>Contoh perhitungan:</b>  
      Jika titik A(2, 3) didilatasi dengan sx = 2 dan sy = 0.5:
      <br>
      x' = 2 × 2 = 4 <br>
      y' = 0.5 × 3 = 1.5 <br>
      Hasil: A'(4, 1.5)
    </li>
  </ul>
  <p>
    Jika dilatasi dilakukan terhadap pusat selain (0,0), lakukan translasi ke pusat, dilatasi, lalu translasi kembali.
  </p>
</div>

    <div class="card">
      <h2>Demo Dilatasi</h2>
      <label>Skala X: <input type="number" id="scaleX" value="2"></label>
      <label>Skala Y: <input type="number" id="scaleY" value="1.5"></label>
      <button onclick="drawDilation()">Terapkan Dilatasi</button>
      <canvas id="canvasDilation" width="300" height="300"></canvas>
      <div class="matrix-display" id="matrixDilation"></div>
    </div>
    
    <div class="card">
      <h2>Shear (Geser)</h2>
      <p>Shear adalah transformasi yang mendistorsi bentuk dengan menggeser sisi-sisi objek. Dapat dilakukan terhadap sumbu X maupun Y.</p>
    </div>
    <div class="card">
  <h2>Rumus & Penjelasan Shear (Geser)</h2>
  <p>
    <b>Shear</b> adalah transformasi yang menggeser posisi titik-titik objek secara proporsional sehingga bentuk objek menjadi miring atau memanjang ke salah satu arah.
  </p>
  <ul>
    <li>
      <b>Rumus shear terhadap sumbu X:</b>
      <pre><code>
x' = x + shx · y
y' = y
      </code></pre>
      <span>shx = parameter shear sumbu X</span>
    </li>
    <li>
      <b>Rumus shear terhadap sumbu Y:</b>
      <pre><code>
x' = x
y' = y + shy · x
      </code></pre>
      <span>shy = parameter shear sumbu Y</span>
    </li>
    <li>
      <b>Bentuk matriks shear X:</b>
      <pre><code>
| x' |   | 1  shx  0 |   | x |
| y' | = | 0   1   0 | · | y |
| 1  |   | 0   0   1 |   | 1 |
      </code></pre>
      <b>Bentuk matriks shear Y:</b>
      <pre><code>
| x' |   | 1   0   0 |   | x |
| y' | = | shy 1   0 | · | y |
| 1  |   | 0   0   1 |   | 1 |
      </code></pre>
    </li>
    <li>
      <b>Contoh perhitungan shear X:</b><br>
      Titik A(3, 2) dengan shx = 1.5:<br>
      x' = 3 + 1.5 × 2 = 6<br>
      y' = 2<br>
      Hasil: A'(6, 2)
    </li>
  </ul>
  <p>
    Pada shear terhadap sumbu X, posisi Y tetap, X berubah.<br>
    Pada shear terhadap sumbu Y, posisi X tetap, Y berubah.
  </p>
</div>

    <div class="card">
      <h2>Demo Shear</h2>
      <label>Shear X: <input type="number" id="shearX" value="1"></label>
      <label>Shear Y: <input type="number" id="shearY" value="0"></label><br>
      <label>Pivot X: <input type="number" id="pivotShearX" value="0"></label>
      <label>Pivot Y: <input type="number" id="pivotShearY" value="0"></label><br>
      <label>Objek (format x,y;x,y;x,y): <input type="text" id="objekShear" value="60,60;100,60;60,100"></label><br>
      <button onclick="drawShear()">Terapkan Shear</button>
      <canvas id="canvasShear" width="300" height="300"></canvas>
      <div class="matrix-display" id="matrixShear"></div>
    
  </div>

  <script>
      function drawTriangle(ctx, points, color = "blue") {
          ctx.beginPath();
          ctx.moveTo(...points[0]);
          ctx.lineTo(...points[1]);
          ctx.lineTo(...points[2]);
          ctx.closePath();
          ctx.strokeStyle = color;
          ctx.stroke();
        }
        
        function drawDilation() {
            const canvas = document.getElementById("canvasDilation");
            const ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const triangle = [
                [60, 60],
                [100, 60],
                [60, 100]
            ];
            
            const scaleX = parseFloat(document.getElementById("scaleX").value);
            const scaleY = parseFloat(document.getElementById("scaleY").value);
            
            drawTriangle(ctx, triangle, "blue");
            
            const scaled = triangle.map(([x, y]) => [x * scaleX, y * scaleY]);
            drawTriangle(ctx, scaled, "red");
            
            document.getElementById("matrixDilation").textContent =
            `| ${scaleX}  0    0 |\n| 0    ${scaleY}  0 |\n| 0    0     1 |`;
        }
    function parsePoints(input) {
      return input.split(';').map(pair => pair.split(',').map(Number));
    }

    function drawGrid(ctx, width, height, gridSize = 20) {
      ctx.save();
      ctx.strokeStyle = '#eee';
      ctx.lineWidth = 1;
      ctx.font = '10px sans-serif';
      ctx.fillStyle = '#aaa';

      for (let x = 0; x <= width; x += gridSize) {
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, height);
        ctx.stroke();
        if (x !== 0) ctx.fillText(x, x + 2, 10);
      }
      for (let y = 0; y <= height; y += gridSize) {
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(width, y);
        ctx.stroke();
        if (y !== 0) ctx.fillText(y, 2, y - 2);
      }

      ctx.restore();
    }

    function drawPolygon(ctx, points, color = "blue") {
      if (points.length < 2) return;
      ctx.beginPath();
      ctx.moveTo(...points[0]);
      for (let i = 1; i < points.length; i++) {
        ctx.lineTo(...points[i]);
      }
      ctx.closePath();
      ctx.strokeStyle = color;
      ctx.stroke();
    }

    function drawShear() {
      const canvas = document.getElementById("canvasShear");
      const ctx = canvas.getContext("2d");
      const gridSize = 20;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawGrid(ctx, canvas.width, canvas.height, gridSize);

      const shearX = parseFloat(document.getElementById("shearX").value);
      const shearY = parseFloat(document.getElementById("shearY").value);
      const pivotX = parseFloat(document.getElementById("pivotShearX").value);
      const pivotY = parseFloat(document.getElementById("pivotShearY").value);
      const points = parsePoints(document.getElementById("objekShear").value);

      drawPolygon(ctx, points, "green");

      const sheared = points.map(([x, y]) => {
        const dx = x - pivotX;
        const dy = y - pivotY;
        return [
          pivotX + dx + shearX * dy,
          pivotY + dy + shearY * dx
        ];
      });
      drawPolygon(ctx, sheared, "orange");

      document.getElementById("matrixShear").textContent =
        `| 1  ${shearX}  ${pivotX} |\n| ${shearY}  1  ${pivotY} |\n| 0   0   1 |`;
    }
        </script>
        <script src="/script.js"></script>
        <script>
         generateSidebarListTugas();
         attachSidebarEvents();
        </script>
</body>
</html>
